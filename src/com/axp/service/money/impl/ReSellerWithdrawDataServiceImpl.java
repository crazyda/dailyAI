package com.axp.service.money.impl;import java.util.Map;import org.springframework.stereotype.Service;import com.axp.model.ReSellerWithdrawData;import com.axp.model.Seller;import com.axp.query.PageResult;import com.axp.service.money.ReSellerWithdrawDataService;import com.axp.service.system.impl.BaseServiceImpl;@Servicepublic class ReSellerWithdrawDataServiceImpl extends BaseServiceImpl implements ReSellerWithdrawDataService {    @Override    public Map<String, Object> doSave(Seller seller, ReSellerWithdrawData data, Map<String, Object> returnMap) {        //保存商家提现信息；        reSellerWithdrawDataDAO.save(data);        //报存商家信息；        seller = sellerDAO.findById(seller.getId());        seller.setWithdrawData(data);        seller.setWithdrawStatus(Seller.提现资料审核中);//更改商家提现资料的申请状态；        //返回信息；        returnMap.put("success", true);        returnMap.put("message", "保存成功");        return returnMap;    }    @Override    public PageResult<ReSellerWithdrawData> getCheckDataList(Integer currentPage, Integer pageSize) {        return reSellerWithdrawDataDAO.getgetCheckDataList(currentPage, pageSize);    }    @Override    public ReSellerWithdrawData findById(Integer withdrawDataId) {        return reSellerWithdrawDataDAO.findById(withdrawDataId);    }    @Override    public Map<String, Object> doCheck(Map<String, Object> returnMap, Integer id, Integer checkStatus, String checkInfo) throws Exception {        //首先需要更改审核状态信息；        ReSellerWithdrawData data = reSellerWithdrawDataDAO.findById(id);        if (data == null) {            throw new Exception("参数错误：找不到id值为" + id + "的ReSellerWithdrawData对象；");        }        data.setCheckStatus(checkStatus);        data.setCheckInfo(checkInfo);        //然后需要更改这个条记录对应的商家的提现信息审核状态；        Seller seller = data.getSeller();        if (checkStatus == ReSellerWithdrawData.pass) {            seller.setWithdrawStatus(Seller.提现资料审核通过);            seller.setWithdrawData(data);        } else if (checkStatus == ReSellerWithdrawData.unPass) {            seller.setWithdrawStatus(Seller.提现资料审核不通过);        }        returnMap.put("message", "审核操作完成；");        return returnMap;    }}