package com.axp.service.permission.impl;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;import org.springframework.stereotype.Service;import com.axp.model.AdminUser;import com.axp.model.ReItem;import com.axp.service.permission.ReItemService;import com.axp.service.system.impl.BaseServiceImpl;import com.axp.util.StringUtil;@Servicepublic class ReItemServiceImpl extends BaseServiceImpl implements ReItemService {    @Override    public Map<String, List<ReItem>> getClassifyItem(AdminUser adminUser) throws Exception {        //用户拥有的所有的菜单对象；        List<ReItem> itemList = new ArrayList<>();        //如果用户是超级管理员；        if (adminUser.getLevel() == StringUtil.SUPERADMIN) {            itemList = reItemDAO.getAllItems();        }        //如果不是超级管理员；        else {            Integer roleId = RePermissionRoleServiceImpl.getRoleId(adminUser);            for (ReItem each : rePermissionRoleDAO.findById(roleId).getItemSet()) {                itemList.add(each);            }        }        //对菜单进行分类；        Map<String, List<ReItem>> returnMap = new HashMap<>();        for (ReItem each : itemList) {            List<ReItem> items = returnMap.get(each.getParentName());            if (items == null) {                returnMap.put(each.getParentName(), new ArrayList<ReItem>());            }        }        for (ReItem each : itemList) {            returnMap.get(each.getParentName()).add(each);        }        return returnMap;    }}