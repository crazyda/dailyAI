package com.axp.dao.impl;import java.util.HashSet;import java.util.List;import java.util.Set;import org.hibernate.Query;import org.hibernate.Session;import org.springframework.stereotype.Repository;import com.axp.dao.RePermissionDAO;import com.axp.model.RePermission;@Repositorypublic class RePermissionDAOImpl extends BaseDaoImpl<RePermission> implements RePermissionDAO {    @Override    public List<RePermission> getAllPermissionsOfNeed() {        Session session = sessionFactory.openSession();        Query query = session.createQuery("from RePermission where isValid=1 and linkAddress is not null");        return query.list();    }    @Override    public Set<RePermission> getPermissionByIdList(List<Integer> rePermissions) {        Session session = sessionFactory.getCurrentSession();        Query query = session.createQuery("from RePermission where isValid=1 and id in :set").setParameterList("set", rePermissions);        List<RePermission> list = query.list();        Set<RePermission> returnSet = new HashSet<>();        for (RePermission each : list) {            returnSet.add(each.getParentPermission());        }        returnSet.addAll(list);        return returnSet;    }}